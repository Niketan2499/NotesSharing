<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>TeacherHome</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <nav
      class="navbar navbar-expand-lg bg-body-tertiary"
      style="
        background: -webkit-linear-gradient(
          left,
          #4f024f,
          #6a036a,
          #8d048d,
          #b905b9,
          #6a036a,
          #4f024f
        );
      "
    >
      <div class="container">
        <a class="navbar-brand" style="margin-right: 20%">Notes Sharing</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <form class="d-flex" role="search" style="margin-right: 30%">
            <input
              class="form-control me-2"
              type="search"
              placeholder="Search"
              aria-label="Search"
            />
            <button class="btn btn-outline-light btn-lg" type="submit">
              Search
            </button>
          </form>

          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item dropdown">
              <a
                class="nav-link dropdown-toggle"
                href="#"
                role="button"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                Hello {{user.first_name}} {{user.last_name}}
              </a>
              <ul class="dropdown-menu">
                <li><a class="dropdown-item" href="#">Username : {{user.username}}</a></li>
                <li><a class="dropdown-item" href="#">UserType : Teacher</a></li>
                <li><hr class="dropdown-divider" /></li>
                <li>
                  <a class="dropdown-item" href="{% url 'handlelogout'%}"
                    >Logout</a
                  >
                </li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <section
      class="jumbotron text-center"
      style="
        background: linear-gradient(90.18deg, #fab3ee, #b65da1 50%, #fab3ee);
      "
    >
    
      <div class="container">
        <h1
          class="display-4"
          style="color: #fff; font-weight: bold; margin-bottom: 20px"
        >
          Upload New File Here
        </h1>

        <form action ="{%url 'upload_filee' %}" method="post" enctype="multipart/form-data">
           <div class="mb-3">

            <input class="form-control form-control-sm" name="file" type="file" style="margin-bottom: 20px;">
            {% csrf_token %}
            <button class="btn btn-outline-light btn-lg" type="submit">Upload</button>

          </div>

          <!-- {{form.file}} {{form.permission}} -->

          <!-- <div class="input-group" style="margin-bottom: 10px;"
          >
            <select class="form-select" id="inputGroupSelect04" aria-label="Example select with button addon">
              <option selected>Choose...</option>
              <option value="1">Allowed</option>
              <option value="2">Not Allowed</option>
            </select>
            <button class="btn btn-outline-light btn-lg" type="submit">Upload</button>
          </div> -->
        </form>
      </div>
     
      <table class="table table-hover">
        <thead>
          <tr>
            <th scope="col">S.No.</th>
            <th scope="col">File Name</th>
            <th scope="col">Upload Date</th>
            <th scope="col">Download</th>
          </tr>
        </thead>
        <tbody>
          {% for uploaded_file in uploaded_files %}
          <tr>
            <th scope="row">1</th>
            <td>{{ uploaded_file.file.name }}</td>
            <td>{{ uploaded_file.upload_date }}</td>
            <td>Download</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </section>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
